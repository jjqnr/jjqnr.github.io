<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>小鱼干音乐小屋</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">
    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link rel="stylesheet" href="./public/css/index.css">

    <script src="./public/vue/vue.min.js"></script>
    <script src="./public/vue/vue-router.min.js"></script>

    <script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script>

    <script src="public/js/video.min.js"></script>

    <script src="./public/js/jstpl.js"></script>
    <script src="./public/js/music.js"></script>
    <style>
        .tab-item.active {
            color:  #ed8e07 !important;
        }
        .tab-item.inactive {
        }
    </style>
</head>
<body>
<div id="app">
    <nav class="bar bar-tab">
        <div data-target="home" class="tab-item active">
            <span class="icon icon-home"></span>
            <span class="tab-label">首页</span>
        </div>
        <div data-target="music" class="tab-item">
            <span class="icon icon-star"></span>
            <span class="tab-label">音乐</span>
        </div>
        <div data-target="video" class="tab-item">
            <span class="icon icon-share"></span>
            <span class="tab-label">视频</span>
        </div>
        <div data-target="owner" class="tab-item">
            <span class="icon icon-me"></span>
            <span class="tab-label">艺环</span>
        </div>
    </nav>
    <div id="page" class="content">

    </div>
</div>

<script>
    $("#page").html(tpl("home", {}));

    $(".tab-item").on("click",function() {
        var target = $(this).data("target");
        $("#page").html(tpl(target, {}));
        if( target == "home" ){
            $(".swiper-container").swiper({
                autoplay: 2000,
                el: '.swiper-pagination',
                dynamicBullets: true
            });
        }else if( target == "music" ){
            music_init();
        }else if( target == "video" ){
            videojs("video-yh1").ready(function(){
                var myPlayer = this;
            });
            videojs("video-yh2").ready(function(){
                var myPlayer = this;
            });
            videojs("video-yh3").ready(function(){
                var myPlayer = this;
            });
        }else if( target == "owner" ){

        }

    });


</script>
</body>
</html>